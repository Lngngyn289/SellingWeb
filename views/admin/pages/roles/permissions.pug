extends ../../layouts/default.pug
include ../../mixins/alert.pug
block main 
  
  +alert-success(5000)
  +alert-error(5000)

  h1(class="mb-4") Permissions


  if(records)
    div(data-records=records)
    div(class="text-right")
      button(
        type="submit"
        class="btn btn-primary mb-3"
        button-submit
      ) Update
    
  table(
    class="table table-hover table-sm"
    table-permissions
  )
    thead
      tr 
        th Tính năng
        each item in records
          th(class="text-center") #{item.title}
    tbody
    tr(data-name="id" class="d-none")
      td 
        each item in records
          td(class="text-center")
            input(type="text" value=item.id)
      tr
        td(colspan="4") 
          b Products category
      tr(data-name="products-category-view")
        td Check details 
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="products-category-create")
        td Add 
        each item in records 
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="products-category-edit")
        td Edit
        each item in records 
          td(class="text-center")
            input(type="checkbox") 
      tr(data-name="products-category-delete")
        td Delete 
        each item in records
          td(class="text-center")
            input(type="checkbox")             
      tr
        td(colspan="4") 
          b Products
      tr(data-name="products-view")
        td Check details 
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="products-create")
        td Add
        each item in records  
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="products-edit")
        td Edit 
        each item in records
          td(class="text-center")
            input(type="checkbox") 
      tr(data-name="products-delete")
        td Delete 
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr
        td(colspan="4") 
          b Roles
      tr(data-name="roles-view")
        td Check details 
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="roles-create")
        td Add  
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="roles-edit")
        td Edit 
        each item in records
          td(class="text-center")
            input(type="checkbox") 
      tr(data-name="roles-delete")
        td Delete
        each item in records 
          td(class="text-center")
              input(type="checkbox")
      tr(data-name="roles-permission")
        td Permisions
        each item in records
          td(class="text-center")
            input(type="checkbox")

      tr
        td(colspan="4") 
            b Accounts List
      tr(data-name="accounts-view")
        td Check details 
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="accounts-create")
        td Add 
        each item in records 
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="accounts-edit")
        td Edit 
        each item in records
          td(class="text-center")
            input(type="checkbox") 
      tr(data-name="accounts-delete")
        td Delete 
        each item in records
          td(class="text-center")
            input(type="checkbox")
    form(
      id="form-change-permission"
      method="POST"
      action=`${prefixAdmin}/roles/permission?_method=PATCH`
    )
      div(class="form-group" style="display: none")
        input(
          type="text"
          class="form-control"
          name="permissions"
        )

  form(
    id="form-change-permissions"
    method="POST"
    action=`${prefixAdmin}/roles/permissions?_method=PATCH`
    class="d-none"
  )
    div(class="form-group")
      input(
        id="input-permissions"
        type="text"
        class="form-control"
        name="permissions"
      )
    script(src="/admin/js/roles.js") 
